<!DOCTYPE html>
<html lang="en">
<head>
    <title>Planning Poker August Lingheim</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Responsive design for all devices -->
    <link rel="stylesheet" href="style.css"> <!-- Stylesheet with custom Css-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>  
</head>
<body>

    <nav class="navbar navbar-ínverse">
        <div class="container-fluid">
            <div class="navbar-header"> 
                <center>
                    <h1 style="color:#ffffff"> Planning Poker</h1>
                </center>
            </div>
        </div>
    </nav>

    <div class="container-fluid text-center">
        <div class="row content">
            <div class="col-sm-8 text-left">
                <center>
                    <h1 class="text-center">Välkommen till Planning poker 1.0</h1>
                    <h2 class="text-center">Välj ett kort och invänta de andra</h2>
                </center>
                <p></p>
                <hr>
                <div id="Cards"> <!-- Div that contains all the cards in the planning poker deck-->
                        <center> <!-- Center position  of all the cards--->
                            <div class="row container-fluid ">
                                <input type="image" src="content/0.png" id="1" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/0,5.png" id="2" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/1.png" id="3" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/2.png" id="4" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/3.png" id="5" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/5.png" id="6" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/8.png" id="7" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/13.png" id="8" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/20.png" id="9" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/40.png" id="10" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/100.png" id="11" onclick="chosenCard(this)" class="cards" />
                                <input type="image" src="content/Idk.png" id="12" onclick="chosenCard(this)" class="cards" />
                            </div>
                        </center>
                </div>

                <!-- Card module -->
                <div id="chosenCardModal" class="modal">
                    <!-- The Close Button -->
                    <span class="close">&times;</span>
                    <!-- Modal Content (Backside of card ) -->
                    <img id="cardBack" class="modal-content" src="content/Backside.jpg" style="width:100%;max-width:300px">                      
                </div>
            </div>
        </div>
    </div>

<footer class="container-fluid text-center">
    <center>
    <p>Skapad av August Lingheim </p>
    </center>
</footer>

</body>
</html>


<script>
    function chosenCard(el) { // The clicked card 

        var modal = document.getElementById('chosenCardModal');// Get the chosenCard modal
        var card = document.getElementById('Cards');
        var cardImg = el.src; // Image source of card
        var cardModule = document.getElementById("cardBack");
        card.onclick = function () {
            modal.style.display = "block"; // Shows the "backside of the card"
            displayChosenCard(cardModule, modal, cardImg);  // Calls the "display card function" and passes the the needed parameters

        }

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on card or the (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

    }

    function displayChosenCard (cardModule, modal, cardImg) {

        cardModule.onclick = function () {
            $('#ImgBack').attr('src', cardImg); // Gets the img source to the card module
            cardModule.setAttribute("src", cardImg);  // Sets the image source to the selected card in the card module
            modal.src = cardImg;// Changes the image source to the selected card
            modal.style.visibility = "block"; // Changes the visabilty to display the chosen card
            document.getElementById('cardBack').onclick = function () {
                location.reload(); // Reloads the application to empty all the cache of the chosen images, this could be improved in later version
            }           
        }
    }

</script>
